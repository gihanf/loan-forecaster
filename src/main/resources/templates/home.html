<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      layout:decorator="layout">
<head>
    <title>Forecast</title>
    <script src="../../bower_components/chart.js/dist/Chart.js"></script>
    <script src="../../bower_components/chart.js/dist/Chart.bundle.js"></script>
    <script src="../../bower_components/chart.js/samples/utils.js"></script>
    <style>
        canvas{
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }
    </style>


</head>
<body>
    <h1 layout:fragment="content-heading">Forecast</h1>

    <div layout:fragment="content" class="container">
        <h1>Loan Amount : $200 0011</h1>
        <h1>Pretty graph goes here!</h1>
        <div style="width:100%;">
            <canvas id="canvas"></canvas>
        </div>
        <div th:text="${months}">
        </div>

        <!--<c:forEach items="${students}" var="student">-->
            <!--<tr>-->
                <!--<td>${student.studentNumber}-->
                <!--<td>${student.name}</td>-->
                <!--<td>${student.college}</td>-->
                <!--<td>${student.branch}</td>-->
            <!--</tr>-->

        <!--</c:forEach>-->
        <script th:inline="javascript">
            /*<![CDATA[*/
            var mon = /*[[${months}]]*/ 'Sebastian';
            /*]]>*/
            console.log("blah blah " + mon);
            var config = {
                type: 'line',
                data: {
//                    labels: ["Jan 16", "Feb 16", "Mar 16", "Apr 16", "May 16", "Jun 16", "Jul 16", "Aug 16", "Sep 16", "Oct 16", "Nov 16", "Dec 16", "Jan 17", "Feb 17", "Mar 17", "Apr 17", "May 17", "Jun 17", "Jul 17", "Aug 17", "Sep 17", "Oct 17", "Nov 17", "Dec 17", "Jan 18", "Feb 18", "Mar 19", "Apr 19", "May 19", "Jun 19", "Jul 19", "Aug 19", "Sep 19", "Oct 19", "Nov 19", "Dec 19", "Jan 20", "Feb 20", "Mar 20", "Apr 20", "May 20", "Jun 20", "Jul 20", "Aug 20", "Sep 20", "Oct 20", "Nov 20", "Dec 20", "Jan 21", "Feb 21", "Mar 21", "Apr 21", "May 21", "Jun 21", "Jul 21", "Aug 21", "Sep 21", "Oct 21", "Nov 21", "Dec 21", "Jan 22", "Feb 22", "Mar 22", "Apr 22", "May 22", "Jun 22", "Jul 22", "Aug 22", "Sep 22", "Oct 22", "Nov 22", "Dec 22"],
                    labels: mon,
                    datasets: [{
                        label: "Unfilled",
                        fill: false,
                        backgroundColor: window.chartColors.blue,
                        borderColor: window.chartColors.blue,
                        data: [
                            300000,
                            280000,
                            270000,
                            260000,
                            250000,
                            240000,
                            230000,
                            220000,
                            210000,
                            200000,
                            190000,
                            180000,
                            170000,
                            160000,
                            150000,
                            140000,
                            130000,
                            120000,
                            110000,
                            100000,
                            90000,
                            80000,
                            70000,
                            60000,
                            50000,
                            40000,
                            30000,
                            20000
                        ],
                    }/*, {
                        label: "Dashed",
                        fill: false,
                        backgroundColor: window.chartColors.green,
                        borderColor: window.chartColors.green,
                        borderDash: [5, 5],
                        data: [
                            randomScalingFactor(),
                            randomScalingFactor(),
                            randomScalingFactor(),
                            randomScalingFactor(),
                            randomScalingFactor(),
                            randomScalingFactor(),
                            randomScalingFactor()
                        ],
                    }*/]
                },
                options: {
                    responsive: true,
                    title:{
                        display:true,
                        text:'Loan Progress'
                    },
                    tooltips: {
                        mode: 'index',
                        intersect: false,
                    },
                    hover: {
                        mode: 'nearest',
                        intersect: true
                    },
                    scales: {
                        xAxes: [{
                            display: true,
                            scaleLabel: {
                                display: true,
                                labelString: 'Month'
                            }
                        }],
                        yAxes: [{
                            display: true,
                            scaleLabel: {
                                display: true,
                                labelString: 'Value'
                            }
                        }]
                    }
                }
            };

            window.onload = function() {
                var ctx = document.getElementById("canvas").getContext("2d");
                window.myLine = new Chart(ctx, config);
            };
        </script>
    </div>

    <script>
        var ctx = document.getElementById("myChart");
        var myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
                datasets: [{
                    label: '# of Votes',
                    data: [12, 19, 3, 5, 2, 3],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255,99,132,1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero:true
                        }
                    }]
                }
            }
        });
    </script>
</body>

</html>